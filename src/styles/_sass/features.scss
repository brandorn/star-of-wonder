/* Annotations
   ================================ */

.annotation-link {
	margin-right: 12px;

	&:link,
	&:visited { border-bottom: 1px solid $faint-grey; }

	&:hover,
	&:active,
	&.annotation-active { 
		border-bottom: none;
		color: $color-accent;

		&:after { color: $color-accent; }
	}

	&:focus { outline: none; }

	&:after {
	  color: $color-secondary;
	  content: attr(data-id);
	  font-family: $sans-serif;
	  font-size: $type-smaller;
	  margin-top: -6px;
    padding-left: 2px;
    position: absolute;
	}

	&.annotation-link-selected { 
		border-bottom: none;
		color: $color-accent; 
	}

	&.annotation-link-selected:after { 
    color: $color-secondary;
    content: "Ã—";
    display: inline-block;
    font-size: 2rem;
    font-weight: 100;
    margin-top: -9px;
    padding-left: 0px;
    vertical-align: top;
	}

} // .annotation-link

.annotation {
	display: none;
	margin: 0.5rem 0;
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  -webkit-transition: 
    max-height .3s ease-out 0s,
    width .01s ease-out .3s,
    opacity .2s ease-out 0s;
  transition: 
    max-height .3s ease-out 0s,
    width .01s ease-out .3s,
    opacity .2s ease-out 0s;
  width: 0;

	&  > span { 
		color: $color-secondary;
		cursor: default;
		display: block;
		font-family: $mono;
		font-size: $type-normal;
		line-height: 150%;
		margin-bottom: 1rem;

		&:nth-last-child(1) { margin-bottom: 0.5rem; }
	}
} // .annotation

.annotation-expanded {
  max-height: 5000px;
  width: 100%;
  opacity: 1;
  -webkit-transition: 
    max-height .5s ease-in .01s,
    width .05s ease-in 0.1s,
    opacity .2s ease-in-out .21s;
  transition: 
    max-height .5s ease-in .01s,
    width .01s ease-in 0s,
    opacity .2s ease-in-out .21s;
} // .annotation-expanded

.annotation-displayed { display: block; }


/* Lightboxes
   ================================ */

.slbOverlay {
	animation: slbOverlay 200ms;
	background: #fff;
}

.slbImageWrap {	
	&:after { 
		box-shadow: none;
		top: 5rem; 
	} 
}

.slbImage { padding: 5rem 0 6rem 0; }

.slbCloseBtn {
	animation: none;
	display: block;
  position: fixed;
	color: $color-accent;
	height: 2rem;
	position: fixed;
	right: 2rem;
	top: 2rem;
	width: 2rem;

	&:after,
	&:before {
		border-top: 2px solid $color-secondary;
		bottom: 0;
		content: "";
		display: block;
		height: 0;
    position: absolute;
    left: 0;
    margin: auto;
    right: 0;
    top: 0;
    transform-origin: center;
    width: 2rem;
	}

	&:before { transform: rotate(45deg); }
	&:after { transform: rotate(-45deg); }

	&:hover {
		opacity: 1;

		&:after,
		&:before { border-top: 2px solid $color-accent; }
	}

} // .slbCloseBtn

.slbArrow {
	opacity: 1;
	width: 6rem;

	&:hover { 
		opacity: 1;

		&:before { border-color: $color-accent; }
	}
  
  &:before { 
  	border: none;
	  border-width: 2px 2px 0 0;
	  border-color: $color-secondary;
	  border-style: solid;
	  height: 1.5rem;
	  width: 1.5rem;
	}

  &.prev {
  	left: 1.5rem;
  	&:hover:before { border-right-color: $color-accent; }

	  &:before { 
	  	border-right-color: $color-secondary;
	  	margin-left: -2rem;
	  	transform: rotate(-135deg);
	  }
	}

  &.next {
  	right: 1.5rem;
	  &:before { 
	  	margin-left: 0;
	  	transform: rotate(45deg) 
	  }
	}
} // .slbArrow

.slbCaption {
	padding: 0 0 1.5rem 0;
	white-space: pre-wrap;

	p { 
		color: $color-secondary;
		font-size: $type-smaller;
		margin: 0;
		
		text-align: left;
	}

	.image-count { 
		color: rgba(0, 0, 0, 0.4); 
		display: block;
		font-style: $type-small;
	}
}
